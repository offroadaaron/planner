{% extends "base.html" %}
{% block content %}
<section class="card">
  <h1>Stores</h1>
  <form method="post" action="/stores" class="grid">
    <select name="customer_id" required>
      <option value="">Customer</option>
      {% for c in customers %}
      <option value="{{ c.id }}">{{ c.cust_code }} - {{ c.name }}</option>
      {% endfor %}
    </select>
    <input name="address_1" placeholder="Address 1" required />
    <input name="city" placeholder="City" required />
    <input name="state" placeholder="State" required />
    <input name="postcode" placeholder="Postcode" />
    <input name="country" value="AUSTRALIA" placeholder="Country" />
    <button type="submit">Add Store</button>
  </form>
</section>

<section class="card">
  <table>
    <thead>
      <tr><th>ID</th><th>Customer</th><th>Address</th><th>City</th><th>State</th><th>Postcode</th></tr>
    </thead>
    <tbody>
      {% for s in stores %}
      <tr>
        <td>{{ s.id }}</td>
        <td>{{ s.cust_code or "" }} {{ s.customer_name or "" }}</td>
        <td>{{ s.address_1 or "" }}</td>
        <td>{{ s.city or "" }}</td>
        <td>{{ s.state or "" }}</td>
        <td>{{ s.postcode or "" }}</td>
      </tr>
      {% else %}
      <tr><td colspan="6">No stores yet.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}
